{
  "scripts": {
    "test": "playwright test",
    "test:ui": "playwright test --ui",
    "test:debug": "playwright test --debug",
    "test:headed": "playwright test --headed",

    "//": "=== GENERACIÓN AUTOMÁTICA ===",
    "test:generate": "tsx tests/generators/generate-tool-tests.ts",
    "test:generate:all": "npm run test:generate -- --all",
    "test:generate:validate": "npm run test:generate -- --validate",
    "test:generate:watch": "chokidar 'src/lib/tools.ts' -c 'npm run test:generate:all'",

    "//": "=== EJECUCIÓN POR CATEGORÍAS ===",
    "test:document": "playwright test tests/categories/document",
    "test:media": "playwright test tests/categories/media",
    "test:ai": "playwright test tests/categories/ai",
    "test:utility": "playwright test tests/categories/utility",
    "test:games": "playwright test tests/categories/games",

    "//": "=== TIPOS DE TESTS ESPECÍFICOS ===",
    "test:core": "playwright test --grep 'Core Tests'",
    "test:functional": "playwright test --grep 'Functional Tests'",
    "test:visual": "playwright test --grep 'Visual Tests'",
    "test:performance": "playwright test --grep 'Performance Tests'",
    "test:accessibility": "playwright test tests/accessibility-comprehensive.spec.ts",
    "test:security": "playwright test --grep 'Security Tests'",
    "test:error-handling": "playwright test --grep 'Error Handling'",

    "//": "=== EJECUCIÓN PARCIAL Y PARALELA ===",
    "test:shard:1": "playwright test --shard=1/4",
    "test:shard:2": "playwright test --shard=2/4",
    "test:shard:3": "playwright test --shard=3/4",
    "test:shard:4": "playwright test --shard=4/4",
    "test:parallel": "playwright test --workers=4",
    "test:fast": "playwright test --grep '@fast'",
    "test:smoke": "playwright test --grep '@smoke'",

    "//": "=== HERRAMIENTAS DE ANÁLISIS ===",
    "test:analyze": "tsx tests/utils/analyze-tests.ts",
    "test:analyze-flaky": "tsx tests/utils/analyze-flaky-tests.ts",
    "test:analyze-coverage": "nyc report --reporter=html",
    "test:analyze-performance": "tsx tests/utils/analyze-performance.ts",

    "//": "=== MANTENIMIENTO Y LIMPIEZA ===",
    "test:cleanup": "rimraf test-results playwright-report coverage",
    "test:cleanup:artifacts": "find test-results -name '*.png' -mtime +7 -delete",
    "test:cleanup:videos": "find test-results -name '*.webm' -mtime +3 -delete",
    "test:optimize": "tsx tests/utils/optimize-tests.ts",
    "test:validate": "tsx tests/utils/validate-tests.ts",

    "//": "=== UTILIDADES DE DEBUGGING ===",
    "test:failed": "playwright test --grep-invert '@flaky' --last-failed",
    "test:failed-logs": "playwright show-trace test-results/**/*.zip",
    "test:rerun-flaky": "playwright test --grep '@flaky' --retries=5",
    "test:profile": "playwright test --reporter=html,json",

    "//": "=== FIXTURES Y DATOS DE PRUEBA ===",
    "test:fixtures": "tsx tests/utils/manage-fixtures.ts",
    "test:fixtures:update": "npm run test:fixtures -- --update",
    "test:fixtures:validate": "npm run test:fixtures -- --validate",
    "test:fixtures:generate": "tsx tests/utils/generate-fixtures.ts",

    "//": "=== INTEGRACIÓN CON HERRAMIENTAS EXTERNAS ===",
    "test:percy": "percy exec -- playwright test --grep '@visual'",
    "test:percy:local": "percy exec --dry-run -- playwright test --grep '@visual'",
    "test:lighthouse": "lhci autorun",
    "test:axe": "playwright test --grep '@accessibility'",

    "//": "=== REPORTES Y DOCUMENTACIÓN ===",
    "test:report": "playwright show-report",
    "test:report:json": "playwright test --reporter=json",
    "test:report:junit": "playwright test --reporter=junit",
    "test:report:markdown": "tsx tests/utils/generate-markdown-report.ts",
    "test:report:metrics": "tsx tests/utils/generate-metrics-report.ts",

    "//": "=== MANTENIMIENTO PROGRAMADO ===",
    "maintenance:full-analysis": "tsx tests/maintenance/full-analysis.ts",
    "maintenance:weekly-report": "tsx tests/maintenance/weekly-report.ts",
    "maintenance:auto-optimize": "tsx tests/maintenance/auto-optimize.ts",
    "maintenance:health-check": "tsx tests/maintenance/health-check.ts",

    "//": "=== MONITOREO Y OBSERVABILIDAD ===",
    "dashboard:start": "tsx tests/dashboard/start-server.ts",
    "dashboard:update": "tsx tests/dashboard/update-metrics.ts",
    "monitor:alerts": "tsx tests/monitoring/check-alerts.ts",
    "monitor:metrics": "tsx tests/monitoring/collect-metrics.ts",

    "//": "=== VALIDACIÓN DE CALIDAD ===",
    "quality:check": "run-s test:validate test:analyze-coverage test:analyze-flaky",
    "quality:gates": "tsx tests/utils/quality-gates.ts",
    "quality:report": "tsx tests/utils/quality-report.ts",

    "//": "=== DESARROLLO Y TESTING LOCAL ===",
    "dev:test": "playwright test --grep '@dev' --watch",
    "dev:test:new": "playwright test --grep '@new'",
    "dev:test:wip": "playwright test --grep '@wip'",

    "//": "=== PRE-COMMIT HOOKS ===",
    "precommit:tests": "playwright test --grep '@smoke' --max-failures=5",
    "precommit:types": "tsc --noEmit",
    "precommit:lint": "eslint tests/**/*.ts",
    "precommit:format": "prettier --write tests/**/*.ts",

    "//": "=== SCRIPTS DE AYUDA ===",
    "help:test": "tsx tests/utils/help.ts",
    "test:version": "playwright --version",
    "test:doctor": "playwright install --dry-run",
    "test:env": "playwright test --list",

    "//": "=== EJECUCIÓN EN CI/CD ===",
    "ci:test": "playwright test --reporter=github,json",
    "ci:test:shard": "playwright test --shard=${SHARD}/${SHARDS}",
    "ci:test:visual": "percy exec -- playwright test --grep '@visual'",
    "ci:test:performance": "playwright test --grep '@performance' --reporter=json"
  },
  "devDependencies": {
    "@playwright/test": "^1.40.0",
    "@percy/cli": "^1.27.0",
    "@percy/playwright": "^1.0.4",
    "@lhci/cli": "^0.12.0",
    "chokidar-cli": "^3.0.0",
    "tsx": "^4.0.0",
    "typescript": "^5.0.0",
    "glob": "^10.0.0",
    "nyc": "^15.1.0",
    "rimraf": "^5.0.0",
    "npm-run-all2": "^6.0.0",
    "eslint": "^8.0.0",
    "prettier": "^3.0.0"
  }
}