---
/**
 * Background Remover - AI-Native Tool Page
 *
 * Optimized for LLM extraction with:
 * - TL;DR answer box (50-70 words)
 * - Semantic Q&A sections
 * - Full schema markup (SoftwareApplication, HowTo, FAQPage)
 */
import Layout from '../../layouts/Layout.astro';
import TrustBar from '../../components/ui/TrustBar.astro';
import Navbar from '../../components/ui/Navbar.astro';
import Footer from '../../components/ui/Footer.astro';
import AnswerBox from '../../components/seo/AnswerBox.astro';
import QASections from '../../components/seo/QASections.astro';
import RelatedTools from '../../components/seo/RelatedTools.astro';
import { getToolById } from '../../lib/tools';
import { getCompetitorData } from '../../lib/competitors';
import SchemaMarkup from '../../components/seo/SchemaMarkup.astro';
import ComparisonTable from '../../components/seo/ComparisonTable.astro';
import BackgroundRemover from '../../components/tools/BackgroundRemover';

// Get tool data from Single Source of Truth (tools.ts)
const toolData = getToolById('background-remover');
n// Get competitor data
const competitorData = getCompetitorData('background-remover');
if (!toolData) throw new Error('Tool not found: background-remover');

// Tool metadata derived from registry
const tool = {
  id: toolData.id,
  name: toolData.name,
  category: toolData.category,
  url: toolData.href
};

// AI-optimized content - SEO from tools.ts, extended content page-specific
const seoContent = {
  // Page meta from Single Source of Truth
  title: toolData.seo?.title || `${toolData.name} - Free Online Tool | New Life Solutions`,
  description: toolData.seo?.metaDescription || toolData.description,

  // TL;DR Answer Box (50-70 words - this is what AI extracts)
  answerBox: {
    title: toolData.seo?.h1 || 'Summarize Text & Documents with AI',
    queryTarget: toolData.seo?.keywords?.[0] || 'How to Summarize Documents Online Free',
    tldr: toolData.answer || `Paste text, upload a PDF/DOCX/TXT file, or enter a URL to generate an instant summary. Choose from brief, standard, or detailed lengths. Select bullet points, paragraphs, or key takeaways format. Use extractive mode for 100% local processing, or connect your own OpenAI/Claude API key for AI-powered summaries. Free, private, no signup required.`,
    trustSignals: [
      'AI-powered accuracy',
      'No file uploads',
      'Transparent PNG output',
      'Unlimited free use'
    ]
  },

  // Q&A Sections
  qa: {
    whatIs: {
      answer: `Background Remover is a free AI-powered tool that automatically removes backgrounds from images directly in your browser. Using advanced machine learning models, it accurately separates subjects (people, products, objects) from their backgrounds. Unlike cloud-based services, the AI runs locally on your device—your images never leave your computer.`,
      context: `Perfect for creating product photos for e-commerce, professional headshots, social media graphics, or any project requiring transparent backgrounds.`
    },
    howItWorks: {
      steps: [
        'Drag and drop your image onto the upload area, or click to browse files',
        'Wait for the AI model to load (first use only, ~40MB download)',
        'The AI automatically processes your image and removes the background',
        'Preview the result with the before/after comparison slider',
        'Download your image as PNG with transparent background',
        'Process additional images—the AI model stays loaded for instant results'
      ]
    },
    whyBrowserBased: {
      benefits: [
        'Complete privacy: Images never leave your device or get uploaded anywhere',
        'No daily limits: Remove backgrounds from unlimited images, forever free',
        'No watermarks: Download clean PNG files ready for professional use',
        'Fast processing: After initial model load, results appear in seconds',
        'Works offline: Once model is cached, works without internet connection'
      ]
    },
    faqs: [
      {
        question: 'What types of images work best?',
        answer: `The AI works best with clear subjects: portraits, product photos, animals, logos, and objects with defined edges. Complex scenes with multiple overlapping subjects or very fine details (hair, fur, lace) may need manual touch-up in an image editor.`
      },
      {
        question: 'Why does it download a 40MB model?',
        answer: `The AI model that removes backgrounds runs entirely in your browser. The ~40MB download happens only once and is cached for future use. This approach keeps your images private—they never leave your device.`
      },
      {
        question: 'What format is the output?',
        answer: `Images are downloaded as PNG files with transparent backgrounds. PNG is the standard format for images with transparency and works in all image editors, presentation software, and web applications.`
      },
      {
        question: 'Can I remove backgrounds on mobile?',
        answer: `Yes, the tool works on mobile devices, but processing is slower due to limited computing power. For best results on mobile, use smaller images (under 2000px). Desktop browsers with dedicated GPUs process images much faster.`
      },
      {
        question: 'How accurate is the AI?',
        answer: `The AI achieves professional-quality results for most images. Edges are typically clean around solid objects. Fine details like individual hair strands may not be perfectly separated—for such cases, professional photo editing software offers manual refinement tools.`
      }
    ]
  }
};

// Schema data
const schemaData = {
  toolId: tool.id,
  toolName: tool.name,
  description: seoContent.description,
  category: tool.category,
  steps: seoContent.qa.howItWorks.steps,
  faqs: seoContent.qa.faqs,
  url: tool.url
};
---

<Layout
  title={seoContent.title}
  description={seoContent.description}
  image="/thumbnails/background-remover.svg"
>
  <!-- Schema Markup for AI extraction -->
  <SchemaMarkup {...schemaData} />

  <Navbar />

  <main class="pt-20 pb-16 px-6 min-h-screen">
    <div class="max-w-5xl mx-auto">

      <!-- Answer Box: AI extracts this first -->
      <AnswerBox
        title={seoContent.answerBox.title}
        tldr={seoContent.answerBox.tldr}
        toolName={tool.name}
        queryTarget={seoContent.answerBox.queryTarget}
        trustSignals={seoContent.answerBox.trustSignals}
      />

      <!-- Tool Component -->
      <section class="tool-section" aria-label="Background Remover Tool">
        <BackgroundRemover client:load />
        <TrustBar signals={seoContent.answerBox.trustSignals} />
      </section>

n      <!-- Comparison Table: GEO optimization (32% of AI citations) -->
      <ComparisonTable
        toolName={tool.name}
        competitors={competitorData.competitors}
        ourFeatures={competitorData.ourFeatures || {
          price: "Free forever",
          privacy: "100% local browser processing",
          accountRequired: "No signup needed",
          usageLimits: "Unlimited usage",
          watermarks: "No watermarks",
          worksOffline: "Yes, fully offline capable"
        }}
      />

      <!-- Q&A Sections: Semantic structure for AI -->
      <QASections
        toolName={tool.name}
        whatIs={seoContent.qa.whatIs}
        howItWorks={seoContent.qa.howItWorks}
        whyBrowserBased={seoContent.qa.whyBrowserBased}
        faqs={seoContent.qa.faqs}
        stats={toolData?.stats}
      />

      <!-- Related Tools -->
      <RelatedTools currentToolId="background-remover" />

    </div>
  </main>

  <Footer />
</Layout>

<style>
  .tool-section {
    margin: 2rem 0;
  }
</style>
