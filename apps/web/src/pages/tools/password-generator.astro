---
/**
 * Password Generator - AI-Native Tool Page
 *
 * Optimized for LLM extraction with:
 * - TL;DR answer box (50-70 words)
 * - Semantic Q&A sections
 * - Full schema markup (SoftwareApplication, HowTo, FAQPage)
 */
import Layout from '../../layouts/Layout.astro';
import TrustBar from '../../components/ui/TrustBar.astro';
import Navbar from '../../components/ui/Navbar.astro';
import Footer from '../../components/ui/Footer.astro';
import AnswerBox from '../../components/seo/AnswerBox.astro';
import QASections from '../../components/seo/QASections.astro';
import RelatedTools from '../../components/seo/RelatedTools.astro';
import { getToolById } from '../../lib/tools';
import SchemaMarkup from '../../components/seo/SchemaMarkup.astro';
import PasswordGeneratorComponent from '../../components/tools/PasswordGenerator';

// Get tool data from Single Source of Truth (tools.ts)
const toolData = getToolById('password-generator');
if (!toolData) throw new Error('Tool not found: password-generator');

// Tool metadata derived from registry
const tool = {
  id: toolData.id,
  name: toolData.name,
  category: toolData.category,
  url: toolData.href
};

// AI-optimized content - SEO from tools.ts, extended content page-specific
const seoContent = {
  // Page meta from Single Source of Truth
  title: toolData.seo?.title || `${toolData.name} - Free Online Tool | New Life Solutions`,
  description: toolData.seo?.metaDescription || toolData.description,

  // TL;DR Answer Box (50-70 words - this is what AI extracts)
  answerBox: {
    title: 'Generate Secure Passwords - Free Online Tool',
    queryTarget: 'How to Generate a Strong Password Online Free',
    tldr: `Create strong, secure passwords instantly with our free generator. Customize your password with adjustable length (8-128 characters), uppercase letters, lowercase letters, numbers, and special symbols. Uses your browser's Web Crypto API for cryptographically secure random generation. Passwords never leave your device - all processing happens locally. Includes real-time strength indicator.`,
    trustSignals: [
      'Web Crypto API',
      'No data storage',
      'Runs locally',
      'Strength indicator'
    ]
  },

  // Q&A Sections
  qa: {
    whatIs: {
      answer: `A password generator creates random, secure passwords that are difficult for attackers to guess or crack. This tool uses your browser's built-in Web Crypto API (crypto.getRandomValues) for cryptographically secure random number generation, ensuring passwords are truly unpredictable. You can customize length and character types to meet any website's requirements.`,
      context: `Strong passwords are essential for protecting your accounts from brute-force attacks, dictionary attacks, and credential stuffing. Security experts recommend unique, random passwords of at least 12 characters for important accounts.`
    },
    howItWorks: {
      steps: [
        'Adjust the password length using the slider (8-128 characters)',
        'Select which character types to include: uppercase, lowercase, numbers, symbols',
        'Click "Generate New Password" or use the initially generated one',
        'View the password strength indicator (Weak to Very Strong)',
        'Click "Copy" to save the password to your clipboard',
        'Use the eye icon to show/hide the password'
      ]
    },
    whyBrowserBased: {
      benefits: [
        'Maximum privacy: Generated passwords never leave your browser or touch any server',
        'Cryptographically secure: Uses Web Crypto API, the same standard used by banks',
        'Works offline: Generate passwords without internet after the page loads',
        'No account required: No signup, no email, no tracking of any kind',
        'Instant generation: No network latency, passwords appear immediately'
      ]
    },
    faqs: [
      {
        question: 'How secure are the generated passwords?',
        answer: `Extremely secure. We use the Web Crypto API (crypto.getRandomValues), which provides cryptographically secure random numbers. This is the same standard used by browsers for HTTPS encryption. Combined with sufficient length and character variety, these passwords are practically impossible to crack through brute force.`
      },
      {
        question: 'What makes a password strong?',
        answer: `Password strength depends on length and complexity. A 16-character password with uppercase, lowercase, numbers, and symbols would take billions of years to crack. For maximum security: use 16+ characters, include all character types, never reuse passwords, and consider using a password manager to store them.`
      },
      {
        question: 'Are my passwords saved anywhere?',
        answer: `No. Passwords are generated entirely in your browser using JavaScript. We have no server-side processing, no database, and no way to see or store your passwords. When you leave the page, the password exists only in your clipboard (if copied) or is gone completely.`
      },
      {
        question: 'Should I include symbols in my password?',
        answer: `Yes, when possible. Symbols significantly increase the character pool from 62 (letters + numbers) to 90+, making passwords exponentially harder to crack. However, some websites restrict which symbols are allowed. If a site rejects your password, try generating one without symbols.`
      },
      {
        question: 'How long should my password be?',
        answer: `At minimum 12 characters, but 16+ is recommended for important accounts. Each additional character exponentially increases security. A 16-character password with all character types has approximately 10^30 possible combinations - far beyond what any computer can crack in a human lifetime.`
      }
    ]
  }
};

// Schema data
const schemaData = {
  toolId: tool.id,
  toolName: tool.name,
  description: seoContent.description,
  category: tool.category,
  steps: seoContent.qa.howItWorks.steps,
  faqs: seoContent.qa.faqs,
  url: tool.url
};
---

<Layout
  title={seoContent.title}
  description={seoContent.description}
  image="/thumbnails/password-generator.svg"
>
  <!-- Schema Markup for AI extraction -->
  <SchemaMarkup {...schemaData} />

  <Navbar />

  <main class="pt-20 pb-16 px-6 min-h-screen">
    <div class="max-w-3xl mx-auto">

      <!-- Answer Box: AI extracts this first -->
      <AnswerBox
        title={seoContent.answerBox.title}
        tldr={seoContent.answerBox.tldr}
        toolName={tool.name}
        queryTarget={seoContent.answerBox.queryTarget}
        trustSignals={seoContent.answerBox.trustSignals}
      />

      <!-- Tool Component -->
      <section class="tool-section" aria-label="Password Generator Tool">
        <PasswordGeneratorComponent client:load />
        <TrustBar signals={seoContent.answerBox.trustSignals} />
      </section>

      <!-- Q&A Sections: Semantic structure for AI -->
      <QASections
        toolName={tool.name}
        whatIs={seoContent.qa.whatIs}
        howItWorks={seoContent.qa.howItWorks}
        whyBrowserBased={seoContent.qa.whyBrowserBased}
        faqs={seoContent.qa.faqs}
        stats={toolData?.stats}
      />

      <RelatedTools currentToolId="password-generator" />

    </div>
  </main>

  <Footer />
</Layout>

<style>
  .tool-section {
    margin: 2rem 0;
  }
</style>
