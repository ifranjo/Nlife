---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/ui/Navbar.astro';
import Footer from '../../components/ui/Footer.astro';
import WordSearchGame from '../../components/games/WordSearchGame';
import { getGameById } from '../../lib/games';

const game = getGameById('word-search');
if (!game) throw new Error('Game not found: word-search');

const title = game.seo?.title || `${game.name} | New Life Games`;
const description = game.seo?.metaDescription || game.description;
---

<Layout title={title} description={description} canonicalUrl="https://www.newlifesolutions.dev/games/word-search/" theme="default">
  <Navbar />
  <main class="pt-16">
    <!-- Hero Section -->
    <section class="py-8 px-6 border-b border-[var(--border)]">
      <div class="max-w-4xl mx-auto text-center">
        <a href="/games" class="text-xs text-[var(--text-muted)] uppercase tracking-wider hover:text-[var(--accent)] transition-colors mb-4 inline-block">
          ← Back to Games
        </a>
        <div class="text-4xl mb-4">{game.emoji}</div>
        <h1 class="text-2xl uppercase tracking-[0.3em] mb-4">{game.seo?.h1 || game.name}</h1>
        <p class="text-[var(--text-dim)] text-sm max-w-xl mx-auto leading-relaxed">
          {game.description}
        </p>
      </div>
    </section>

    <!-- Game Section -->
    <section class="py-6 px-4">
      <WordSearchGame client:load />
    </section>

    <!-- How to Play -->
    {game.howToPlay && (
      <section class="py-12 px-6 border-t border-[var(--border)]">
        <div class="max-w-2xl mx-auto">
          <h2 class="text-lg uppercase tracking-[0.2em] text-center mb-8">How to Play</h2>
          <div class="grid gap-6 sm:grid-cols-2">
            {game.howToPlay.map(card => (
              <div class="glass-card p-6 rounded-lg">
                <div class="text-2xl mb-3">{card.emoji}</div>
                <h3 class="font-bold mb-2 text-[var(--text)]">{card.title}</h3>
                <p class="text-sm text-[var(--text-dim)]">{card.description}</p>
              </div>
            ))}
          </div>

          <div class="mt-8 glass-card p-4 rounded-lg">
            <h3 class="font-bold mb-3 text-[var(--text)]">Tech Word Categories</h3>
            <div class="grid grid-cols-2 sm:grid-cols-3 gap-2 text-sm text-[var(--text-dim)]">
              <div>• Programming languages</div>
              <div>• Development tools</div>
              <div>• Frameworks & libraries</div>
              <div>• Operating systems</div>
              <div>• Version control</div>
              <div>• Testing & debugging</div>
            </div>
          </div>
        </div>
      </section>
    )}
  </main>
  <Footer />
</Layout>

<!-- JSON-LD -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "VideoGame",
  "name": game.name,
  "description": description,
  "url": `https://www.newlifesolutions.dev${game.href}`,
  "genre": ["Word Puzzle", "Educational"],
  "playMode": "SinglePlayer",
  "applicationCategory": "Game",
  "operatingSystem": "Web Browser",
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
})} />
