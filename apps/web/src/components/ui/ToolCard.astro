---
import type { Tool } from '../../lib/tools';

interface Props {
  tool: Tool;
}

const { tool } = Astro.props;

const isDisabled = tool.tier === 'coming' || tool.tier === 'pro';
const tagClass = tool.tier === 'free' ? 'tag-free' : tool.tier === 'pro' ? 'tag-pro' : 'tag-coming';
---

<a
  href={isDisabled ? undefined : tool.href}
  class:list={[
    'tool-card block',
    { 'opacity-50 cursor-not-allowed': isDisabled }
  ]}
>
  <!-- Header -->
  <div class="flex items-start justify-between mb-4">
    <div class="w-8 h-8">
      <img src={tool.thumbnail} alt={tool.name} class="w-full h-full" loading="lazy" />
    </div>
    <span class={`tag ${tagClass}`}>{tool.tier}</span>
  </div>

  <!-- Title -->
  <h3 class="text-[var(--text)] text-sm uppercase tracking-[0.1em] mb-2">
    {tool.name}
  </h3>

  <!-- Description -->
  <p class="text-[var(--text-dim)] text-xs leading-relaxed mb-4">
    {tool.description}
  </p>

  <!-- Category -->
  <div class="flex items-center justify-between">
    <span class="text-[0.625rem] text-[var(--text-muted)] uppercase tracking-[0.15em]">
      {tool.category}
    </span>
    {!isDisabled && (
      <svg class="w-4 h-4 text-[var(--text-muted)]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
      </svg>
    )}
  </div>
</a>
